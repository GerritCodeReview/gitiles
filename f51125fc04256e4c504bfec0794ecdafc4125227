{
  "comments": [
    {
      "key": {
        "uuid": "a57beb35_abe50944",
        "filename": "gitiles-servlet/src/main/java/com/google/gitiles/ViewFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2014-04-28T18:06:48Z",
      "side": 1,
      "message": "Just a question: is there a reason to not decode the entire request?  Also, you may find that + in the context of a Gitiles command gets misinterpreted with URLDecoder as a space... or this may also impact a filename with a \"+\" in it.",
      "revId": "f51125fc04256e4c504bfec0794ecdafc4125227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "856a6764_2ae83fc7",
        "filename": "gitiles-servlet/src/main/java/com/google/gitiles/ViewFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1015975
      },
      "writtenOn": "2014-04-28T18:28:31Z",
      "side": 1,
      "message": "This change is tested only with gerrit plugin. If it works as standalone service, it may not work as expected.;(\nFor your first question, if I decode entire request, I have to add more code to extract path from decoded request.",
      "parentUuid": "a57beb35_abe50944",
      "revId": "f51125fc04256e4c504bfec0794ecdafc4125227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85dfc77e_c2d6e25f",
        "filename": "gitiles-servlet/src/main/java/com/google/gitiles/ViewFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1012612
      },
      "writtenOn": "2014-04-28T18:49:10Z",
      "side": 1,
      "message": "Okay, makes sense.  As is, I believe the Gitiles plugin should be working properly now (please feel free to test!) -- but I think Dave may have been asking because it makes more sense to apply the fix in the Gitiles layer rather than the Gerrit plugin?  At least, that would be my opinion (have a look at the change I9974756cb6fdcf6efdf2effd62016431ea2d49c1) -- perhaps getRegexGroup would be another place that *could* be checked as well.\n\nIn any case, it seems important that both the Gitiles plugin as well as standalone Gitiles continue to function normally.",
      "parentUuid": "856a6764_2ae83fc7",
      "revId": "f51125fc04256e4c504bfec0794ecdafc4125227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6580137a_61f536f1",
        "filename": "gitiles-servlet/src/main/java/com/google/gitiles/ViewFilter.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1015975
      },
      "writtenOn": "2014-04-29T06:01:48Z",
      "side": 1,
      "message": "As you mentioned, I found that the filename with \u0027+\u0027 in it had problem. But I have no idea ;( URLDecoder has problem and it\u0027s not easy to use URI.getPath() here.\n\nRegarding getRegexGroup(), it is handled by jgit so I cannot find proper place to solve it ;(",
      "parentUuid": "85dfc77e_c2d6e25f",
      "revId": "f51125fc04256e4c504bfec0794ecdafc4125227",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}