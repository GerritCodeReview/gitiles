{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "e43ba552_0f709ec1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2022-01-12T14:15:10Z",
      "side": 1,
      "message": "Tests pass now but I agree with Jonathan that commit message would benefit from being a bit more clear about what you are trying to accomplish, just altering a couple of test-classes doesn\u0027t seem to be related to any larger initiative.\nAre you attempting to move to servlet:3.1.0 entirely (see my follow-up change)?",
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39a8d6aa_5db28a9a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1112887
      },
      "writtenOn": "2022-01-12T16:42:06Z",
      "side": 1,
      "message": "google3 has already moved to servlet 3.1 entirely, but when we did so, we did it with a google-internal patch to implement some of the abstract methods introduced in that version so we didn\u0027t have to atomically implement it in a bunch of clients.\n\nThis message was apparently not captured in the copybara-generated commit, but this came out of a google3 LSC, specifically child cr/417877794, which referenced go/lsc-servlet-api-v3.1 step #8.\n\nHow do I look at your follow-up change?",
      "parentUuid": "e43ba552_0f709ec1",
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2721c53_41941c14",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1112887
      },
      "writtenOn": "2022-01-12T17:04:12Z",
      "side": 1,
      "message": "Also, copybara\u0027s logic for drafting the commit message is encoded at https://source.corp.google.com/piper///depot/google3/third_party/java_src/gitiles/copy.bara.sky;l\u003d138-181;rcl\u003d321244284. If you want future upstreamed PRs to include more data from the Piper CL description, you\u0027ll have to amend that. The specific culprit is the metadata.scrubber which neuters all but the first line of the P4 description.",
      "parentUuid": "39a8d6aa_5db28a9a",
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2fa1dc2_0274dc9e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2022-01-13T07:57:44Z",
      "side": 1,
      "message": "This reply doesn\u0027t seem to be directed at me but since you replied to my comment I\u0027ll oblige.\n\nAs a non-googler I don\u0027t have access to, or any knowledge of, Google\u0027s internal auto-generated commits tools.\n\nTo update the commit message of this change you can use the \"Edit\" button in the lower-right corner of the commit-message box above.\n\nThe follow-up change is linked above in the \"Relation chain\" field.\nhttps://gerrit-review.googlesource.com/c/gitiles/+/327979/1",
      "parentUuid": "a2721c53_41941c14",
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92f00437_e1820261",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1112887
      },
      "writtenOn": "2022-01-14T02:43:17Z",
      "side": 1,
      "message": "I was under the, now obvious, misunderstanding that this was a wholly internal repo. ðŸ˜ž It makes sense you would not have access to these tools, but rather whoever set up the synchronization between \"the monorepo\" and here did and is buying into some odd ligatures.\n\nThanks for the pointer to your change, and yes, if that change plus this one compiles and tests, I would highly suggest it.",
      "parentUuid": "d2fa1dc2_0274dc9e",
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbce6581_f50a7082",
        "filename": "javatests/com/google/gitiles/BUILD",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1112887
      },
      "writtenOn": "2022-01-12T16:55:27Z",
      "side": 1,
      "message": "Ah, this change wasn\u0027t part of the LSC because google3/third_party/java_src/gitiles/javatests/com/google/gitiles/BUILD depends on //third_party/java/servlet/servlet_api and that had already been updated to 3.1 in cr/413384218.\n\nIs there anything that ensures that these deps stay in sync with the resolved deps in google3/third_party/java_src/gitiles/javatests/com/google/gitiles/BUILD?\n\ne.g., that //lib/junit\u0027s version is the same version as //third_party/java/junit?\n\nGiven that go/oneversion is a thing, and that google3 is pinned to a specific version set, and gitiles is imported into google3, you\u0027re essentially opting into the exact versions that google3 uses or hoping that the version skew, if any, doesn\u0027t break anything. Do you have to test google3/third_party/java/gitiles clients independently of external gitiles clients to ensure sanity?",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 32
      },
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6bc119c_c0c44e8a",
        "filename": "javatests/com/google/gitiles/BUILD",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1014252
      },
      "writtenOn": "2022-01-13T07:57:44Z",
      "side": 1,
      "message": "I know nothing about internal googleness, but in the world outside of Google I do know that if you update the test-classes to use the 3.1.0 API you\u0027ll have to update this dependency to 3.1.0 or the test-cases won\u0027t compile.",
      "parentUuid": "dbce6581_f50a7082",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 32
      },
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e57ec0b_1c656320",
        "filename": "javatests/com/google/gitiles/BUILD",
        "patchSetId": 2
      },
      "lineNbr": 22,
      "author": {
        "id": 1112887
      },
      "writtenOn": "2022-01-14T02:43:17Z",
      "side": 1,
      "message": "In this case, it\u0027s not strictly true because all we\u0027re doing is adding methods that would be overrides in v3.1 but aren\u0027t in v2.5 and so all you might get is a warning/error that you\u0027re incorrectly using `@Override` for a non-override (which could be suppressed and might require some special `javacopts` setting to your BUILD to do so). They\u0027d be harmless in v2.5.\n\nThat said, I\u0027m not sure how y\u0027all had references to both v2.5 and v3.1 and didn\u0027t end up with issuesâ€¦ super careful deps ordering to be sure that the \"right\" one was first? No colocation in a single .jar?",
      "parentUuid": "a6bc119c_c0c44e8a",
      "range": {
        "startLine": 22,
        "startChar": 8,
        "endLine": 22,
        "endChar": 32
      },
      "revId": "c1374e7cfec1117b38ac221dbf8dfd1a447f5321",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}